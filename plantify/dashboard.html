<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plantify - Your Garden Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Navigation -->
        <nav class="dashboard-nav">
            <a href="index.html" class="nav-brand">
                <h1>ðŸŒ¿ Plantify</h1>
            </a>
            <div class="nav-menu">
                <button class="nav-btn active" data-section="recommendations">
                    <i class="fas fa-seedling"></i> Recommendations
                </button>
                <button class="nav-btn" data-section="nurseries">
                    <i class="fas fa-store"></i> Nurseries
                </button>
                <button class="nav-btn" data-section="garden">
                    <i class="fas fa-leaf"></i> My Garden
                </button>
                <button class="nav-btn" data-section="maintenance">
                    <i class="fas fa-calendar-alt"></i> Maintenance
                </button>
                <button class="nav-btn" data-section="identify">
                    <i class="fas fa-camera"></i> Identify Plant
                </button>
                <button class="nav-btn" onclick="location.href='settings.html'">
                    <i class="fas fa-cog"></i> Settings
                </button>
            </div>
            <div class="nav-profile">
                <span id="userName">User</span>
                <button class="profile-btn" onclick="showProfile()">
                    <i class="fas fa-user"></i>
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="dashboard-main">
            <!-- Welcome Section -->
            <div class="welcome-section">
                <h2>Welcome back, <span id="welcomeName">Plant Parent</span>! ðŸŒ±</h2>
                <p>Ready to grow something beautiful today?</p>
            </div>

            <!-- Recommendations Section -->
            <section id="recommendations" class="dashboard-section active">
                <div class="section-header">
                    <h2><i class="fas fa-seedling"></i> Plant Recommendations</h2>
                    <p>Curated just for your space and lifestyle</p>
                </div>
                
                <div class="filters">
                    <button class="filter-btn active" data-filter="all">All Plants</button>
                    <button class="filter-btn" data-filter="low-maintenance">Low Maintenance</button>
                    <button class="filter-btn" data-filter="pet-safe">Pet Safe</button>
                    <button class="filter-btn" data-filter="native">Native Plants</button>
                    <button class="filter-btn" data-filter="travel-friendly">Travel Friendly</button>
                </div>

                <div id="recommendationsGrid" class="plants-grid">
                    <!-- Plants will be populated here -->
                </div>
            </section>

            <!-- Nurseries Section -->
            <section id="nurseries" class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-store"></i> Local Nurseries</h2>
                    <p>Find plants near you</p>
                </div>
                
                <!-- Nursery Search and Filters -->
                <div class="nursery-search-container">
                    <div class="search-filters-row">
                        <div class="search-input-group">
                            <input type="text" id="zipCodeInput" placeholder="Enter ZIP code or city name (e.g., 94587 or Union City)" class="search-input">
                        </div>
                        <div class="filter-group">
                            <select id="distanceFilter" class="filter-select">
                                <option value="5">5 miles</option>
                                <option value="10">10 miles</option>
                                <option value="15">15 miles</option>
                                <option value="20" selected>20 miles</option>
                            </select>
                            <select id="sortBy" class="filter-select">
                                <option value="distance">Sort by Distance</option>
                                <option value="rating">Sort by Rating</option>
                                <option value="name">Sort by Name</option>
                            </select>
                            <button class="btn-primary search-btn" onclick="searchByZipCode()">
                                <i class="fas fa-search"></i> Search
                            </button>
                        </div>
                    </div>
                    <div class="view-toggle-container">
                        <div class="view-toggle">
                            <button id="listView" class="view-btn active" onclick="switchView('list')">
                                <i class="fas fa-list"></i> List
                            </button>
                            <button id="mapView" class="view-btn" onclick="switchView('map')">
                                <i class="fas fa-map"></i> Map
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Location Display -->
                <div class="location-display">
                    <div class="location-info">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="currentLocation">Enter a ZIP code or city name to search for nurseries</span>
                    </div>
                </div>

                <!-- Map Container -->
                <div id="mapContainer" class="map-container" style="display: none;">
                    <div id="nurseryMap" class="nursery-map"></div>
                </div>

                <!-- Nurseries List -->
                <div id="nurseriesList" class="nurseries-list"></div>
            </section>

            <!-- Virtual Garden Section -->
            <section id="garden" class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-leaf"></i> My Virtual Garden</h2>
                    <button class="btn-primary" onclick="addPlantToGarden()">
                        <i class="fas fa-plus"></i> Add Plant
                    </button>
                </div>
                
                <div id="gardenGrid" class="garden-grid">
                    <!-- User's plants will be shown here -->
                </div>
            </section>

            <!-- Maintenance Section -->
            <section id="maintenance" class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-calendar-alt"></i> Plant Maintenance</h2>
                    <button class="btn-secondary" onclick="exportCalendar()">
                        <i class="fas fa-download"></i> Export to Calendar
                    </button>
                </div>
                
                <div class="maintenance-overview">
                    <div class="maintenance-card urgent">
                        <h3>Today's Tasks</h3>
                        <div id="todayTasks" class="task-list">
                            <!-- Today's tasks -->
                        </div>
                    </div>
                    
                    <div class="maintenance-card upcoming">
                        <h3>This Week</h3>
                        <div id="weekTasks" class="task-list">
                            <!-- This week's tasks -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Plant Identification Section -->
            <section id="identify" class="dashboard-section">
                <div class="section-header">
                    <h2><i class="fas fa-camera"></i> Plant Identification</h2>
                    <p>Take a photo to identify unknown plants</p>
                </div>
                
                <div class="identify-container">
                    <div class="upload-area" id="uploadArea">
                        <i class="fas fa-camera fa-3x"></i>
                        <p>Click to upload a photo or drag and drop</p>
                        <input type="file" id="plantImage" accept="image/*" style="display: none;">
                    </div>
                    
                    <div id="identificationResult" class="identification-result" style="display: none;">
                        <!-- Identification results will appear here -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Add Plant Modal -->
    <div id="addPlantModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Add Plant to Your Garden</h3>
                <button class="close-btn" onclick="closeModal('addPlantModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addPlantForm">
                    <div class="form-group">
                        <label for="plantName">Plant Name:</label>
                        <input type="text" id="plantName" required>
                    </div>
                    <div class="form-group">
                        <label for="plantType">Plant Type:</label>
                        <select id="plantType" required>
                            <option value="">Select plant type</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="plantLocation">Location in Home:</label>
                        <input type="text" id="plantLocation" placeholder="e.g., Living room window">
                    </div>
                    <div class="form-group">
                        <label for="plantDate">Date Acquired:</label>
                        <input type="date" id="plantDate" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn-primary">Add Plant</button>
                        <button type="button" class="btn-secondary" onclick="closeModal('addPlantModal')">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Plant Detail Modal -->
    <div id="plantDetailModal" class="modal" style="display: none;">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="modalPlantName">Plant Details</h3>
                <button class="close-btn" onclick="closeModal('plantDetailModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div id="plantDetailContent">
                    <!-- Plant details will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDCLOpYtZ2jRwjMcw4ohW-d2CHgB4fQUGw&libraries=places"></script>
    <script src="js/database.js"></script>
    <script src="js/plant-id-api.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html> 